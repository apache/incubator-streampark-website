---
id: 'version-upgrade'
title: '版本升级指南'
sidebar_position: 13
---

### 升级前准备

在开始升级之前，请确保已完成以下准备工作，以确保升级过程顺利进行。

- **备份数据库**：非常重要的一步，确保有完整的数据库备份，以便在升级过程中遇到问题时可以恢复到升级前的状态。
- **检查版本兼容性**：确认当前的版本号，并确保升级路径与您的版本兼容。本指南适用于从 `1.2.3` 版本开始的升级。
- **确认环境要求**：确保您的服务器满足新版本的系统要求。

### 找到升级脚本

升级脚本位于 `script/upgrade` 目录。您需要根据当前版本和目标版本选择正确的脚本进行升级。

```plaintext
script
└── upgrade
      ├── mysql
      |     ├── 1.2.3.sql
      |     ├── 2.0.0.sql
      |     ├── 2.1.0.sql
      |     └── 2.1.2.sql
      └── pgsql
            ├── 2.1.0.sql
            ├── 2.1.2.sql
            └── 2.1.3.sql
```

### 执行升级脚本

使用数据库管理工具（如 MySQL Workbench、pgAdmin、JetBrains dataGrip）连接到数据库，并依次执行升级脚本。

#### 示例：从 2.0.0 升级到 2.1.2

1. **升级到 2.1.0**：

```bash
# 命令行或用您的数据库管理工具执行 2.1.2.sql 脚本
mysql -h 127.0.0.1 -P 3306 -u root --password=streampark streampark < ./script/upgrade/mysql/2.1.0.sql
```

2. **升级到 2.1.2**：

```bash
# 接着，执行 2.1.2.sql 脚本完成升级
mysql -h 127.0.0.1 -P 3306 -u root --password=streampark streampark < ./script/upgrade/mysql/2.1.2.sql
```

### 验证升级

升级完成后，登录到您的应用程序并检查是否一切正常运行。您可以查看应用日志或检查新版本的功能是否按预期工作。

### 遇到问题怎么办

如果在升级过程中遇到任何问题：

1. **参考官方文档**：查找可能的错误消息和解决方案。
2. **恢复备份**：如果升级失败，使用之前备份的数据库恢复到升级前的状态。
3. **寻求帮助**：如果问题仍然无法解决，您可以在 Apache StreamPark 的官方论坛或社区求助。

### 下一步

升级完成后，您可能需要根据新版本的特性和改进，调整和优化您的应用配置和性能设置。
